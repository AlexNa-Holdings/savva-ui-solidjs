# Конфігурація

Розширені параметри конфігурації для вашої інсталяції SAVVA.

## Огляд

Цей документ охоплює розширену конфігурацію, що виходить за рамки базового налаштування.

## Налаштування бота Telegram

SAVVA підтримує інтеграцію з ботом Telegram для автентифікації користувачів та сповіщень. Кожний домен може мати власного бота Telegram.

### Створення бота Telegram

1. **Відкрийте Telegram** та знайдіть `@BotFather`

2. **Створіть нового бота**:
   - Надішліть `/newbot` BotFather
   - Введіть відображуване ім'я для бота (наприклад, "SAVVA Network")
   - Введіть ім'я користувача для бота (повинно закінчуватися на `bot`, наприклад, `savva_network_bot`)

3. **Збережіть токен бота**:
   - BotFather надасть API-токен, наприклад: `7123456789:AAHxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`
   - Тримайте цей токен в безпеці — будь-хто з цим токеном може керувати вашим ботом

4. **Налаштуйте параметри бота** (необов'язково, але рекомендовано):
   - Надішліть `/setdescription` — додайте опис вашого екземпляру SAVVA
   - Надішліть `/setabouttext` — додайте інформацію, що відображається в профілі бота
   - Надішліть `/setuserpic` — завантажте логотип вашої мережі як аватар бота

### Конфігурація бекенду

Додайте налаштування бота Telegram у ваш `/etc/savva.yml`:

```yaml
# Telegram Bot Configuration
telegram:
  bot-token: "7123456789:AAHxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
```

### Реєстрація webhook

Після налаштування бекенду потрібно зареєструвати URL webhook у Telegram. Це повідомляє Telegram, куди надсилати оновлення, коли користувачі взаємодіють із вашим ботом:

```bash
curl -F "url=https://yourdomain/api/telegram-bot/yourdomain" \
  https://api.telegram.org/bot7123456789:AAHxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx/setWebhook
```

Замініть:
- `yourdomain` на ваш фактичний домен (з'являється двічі в URL)
- `7123456789:AAHxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx` на ваш токен бота

**Очікувана відповідь:**
```json
{"ok":true,"result":true,"description":"Webhook was set"}
```

**Перевірте статус webhook:**
```bash
curl https://api.telegram.org/bot<your_bot_token>/getWebhookInfo
```

### Як це працює

Після налаштування користувачі можуть:
- Пов'язати свій обліковий запис Telegram з профілем SAVVA
- Отримувати сповіщення про нових підписників, коментарі та згадки
- Використовувати Telegram як додатковий метод автентифікації

### Зауваження з безпеки

- Ніколи не розголошуйте токен бота публічно
- Токен бота в `savva.yml` повинен мати обмежені права файлу (`chmod 600`)
- Розгляньте використання змінних оточення для токена в продакшені:
  ```yaml
  telegram:
    bot-token: ${TELEGRAM_BOT_TOKEN}
  ```

## Конфігурація бекенду

### Налаштування бази даних

**Незабаром**: оптимізація PostgreSQL для інстансів з великим трафіком

### Налаштування IPFS

**Незабаром**: стратегії pinning у IPFS і оптимізація gateway

### Кешування

**Незабаром**: інтеграція Redis для кешування сесій

### Обмеження частоти запитів

**Незабаром**: конфігурація обмежень API

## Налаштування UI

### Брендинг

**Незабаром**: як налаштувати кольори, логотипи та брендинг

### Флаги функцій

**Незабаром**: увімкнення/вимкнення конкретних функцій

### Аналітика

**Незабаром**: інтеграція інструментів аналітики

## Налаштування блокчейну

### Користувацькі мережі

**Незабаром**: підключення до користувацьких EVM-мереж

### Налаштування контрактів

**Незабаром**: розширені налаштування взаємодії з контрактами

## Оптимізація продуктивності

### Налаштування CDN

**Незабаром**: оптимізація доставки ресурсів

### Індекси бази даних

**Незабаром**: запити для оптимізації бази даних

### Стратегії кешування

**Незабаром**: кешування на бекенді та фронтенді

## Налаштування безпеки

### SSL/TLS

**Незабаром**: розширена конфігурація HTTPS

### Безпека API

**Незабаром**: конфігурація JWT та найкращі практики безпеки

### Налаштування CORS

**Незабаром**: тонке налаштування політик CORS

## Моніторинг і логування

### Керування логами

**Незабаром**: налаштування централізованого логування

### Моніторинг продуктивності

**Незабаром**: інтеграція APM

### Відстеження помилок

**Незабаром**: інтеграція Sentry або аналогічних інструментів

---

*Цей розділ у стадії розробки. Перевіряйте оновлення.*